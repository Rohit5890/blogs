(this["webpackJsonprohit_21-12-2019_fwa"]=this["webpackJsonprohit_21-12-2019_fwa"]||[]).push([[0],{26:function(e,t,a){e.exports=a(41)},31:function(e,t,a){},32:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(22),i=a.n(r),s=(a(31),a(5)),o=a(6),c=a(8),u=a(7),g=a(9),h=a(10),d=a(13),m=(a(32),a(15)),p=a(12),b=a(17),f=a.n(b),y=function(e){return n.a.createElement("header",{className:e.className},n.a.createElement(e.element,null,e.title),n.a.createElement("hr",null))},v=function(e){var t=e.blog,a=e.blogPublishedDate,l=e.openDetailedBlog;return n.a.createElement("div",{className:"card",onClick:function(){l(t)}},n.a.createElement("div",{className:"blog-data-wrap"},n.a.createElement("div",{className:"blog-list-head"},n.a.createElement("span",null,a," -  ",n.a.createElement("b",{className:"category"},t.category)," "),n.a.createElement("div",{className:"like-wrap"},n.a.createElement("i",null),n.a.createElement("span",null,t.likes," Likes"))),n.a.createElement("h2",null,t.title),n.a.createElement("p",null,t["short-description"]),n.a.createElement("b",null,"By: ",n.a.createElement("i",null,t.author))),n.a.createElement("img",{srcSet:" https://cdn2.iconfinder.com/data/icons/iconslandtransport/PNG/256x256/CarGrey.png 978w, \n                https://cdn2.iconfinder.com/data/icons/iconslandtransport/PNG/128x128/CarGrey.png 320w ",src:"".concat(t.imgs.thumb),alt:t.title}))},E=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(o.a)(t,[{key:"openDetailedBlog",value:function(e){var t=e.title.split(" ").join(""),a=e.published_date;localStorage.setItem("values",JSON.stringify(this.props.values)),localStorage.setItem("searchValue",JSON.stringify(this.props.searchValue)),this.props.history.push({pathname:"/details/".concat(t,"/").concat(a),state:{index:e.id}})}},{key:"renderBlogsList",value:function(){var e=this;return this.props.blogArrayList.map((function(t,a){var l=new Date(t.published_date).toDateString();return n.a.createElement(v,{key:"".concat(t.published_date,"-").concat(t.id),blogPublishedDate:l,blog:t,openDetailedBlog:function(t,a){e.openDetailedBlog(t)}})}))}},{key:"render",value:function(){return n.a.createElement("div",{className:"blog-wrap"},"main"!==this.props.view&&n.a.createElement(y,{title:this.props.viewTitle,element:"h2"}),n.a.createElement("div",{className:"blog-list"},this.renderBlogsList()))}}]),t}(l.Component),k=Object(h.f)(E),L=function(e){return n.a.createElement("input",{type:"text",value:e.searchValue,onChange:function(t){e.getfilteredList(t.target.value)}})},S=(a(39),function(e){function t(){var e,a;Object(s.a)(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={blogArrayList:[],fullblogArrayList:[],loadedListlength:0,blogArrayListLength:0,searchValue:"",values:[],published_date:!1,category:!1,author:!1},a}return Object(g.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e,t,a,l=this;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=JSON.parse(localStorage.getItem("blogArrayList"))){n.next=6;break}return n.next=4,f.a.awrap(fetch("./data/blogs.json").then((function(e){return e.json()})).then((function(e){localStorage.setItem("blogArrayList",JSON.stringify(e)),l.setState({fullblogArrayList:e,blogArrayList:e.slice(0,4),loadedListlength:4,blogArrayListLength:e.length})})).catch((function(e){})));case 4:n.next=10;break;case 6:t="undefined"!==localStorage.getItem("values")?JSON.parse(localStorage.getItem("values")):[],a="undefined"!==localStorage.getItem("searchValue")?localStorage.getItem("searchValue"):"",this.setState({fullblogArrayList:e,blogArrayList:e.slice(0,4),loadedListlength:4,blogArrayListLength:e.length,values:t,searchValue:a,author:!!t.includes("author"),category:!!t.includes("category"),published_date:!!t.includes("published_date")});case 10:case"end":return n.stop()}}),null,this)}},{key:"componentDidUpdate",value:function(e,t){t.values.length!==this.state.values.length&&this.getSortedBlogList(this.state.values)}},{key:"loadMoreBlogs",value:function(){var e=this.state,t=e.blogArrayList,a=e.loadedListlength,l=e.fullblogArrayList;this.setState({blogArrayList:[].concat(Object(p.a)(t),Object(p.a)(l.slice(a,a+4))),loadedListlength:a+4})}},{key:"getfilteredList",value:function(e){var t=this.state.fullblogArrayList;if(e){var a=t.filter((function(t){return t.author.toLowerCase().includes(e)||t.category.toLowerCase().includes(e)}));this.setState({searchValue:e,blogArrayList:a})}else this.setState({searchValue:e,blogArrayList:t.slice(0,4)})}},{key:"computeSort",value:function(e){return function(t,a){return 1*(t[e]<a[e]?-1:t[e]>a[e]?1:0)}}},{key:"getSortedBlogList",value:function(e){var t=this,a=this.state.fullblogArrayList,l=Object(p.a)(a);if(e.length){var n=l.sort(function(){return function(a,l){for(var n=0,r=0,i=e.length;0===r&&n<i;)r=t.computeSort(e[n])(a,l),n++;return r}}.apply(void 0,Object(p.a)(e)));this.setState({blogArrayList:n,values:e})}else this.setState({blogArrayList:a.slice(0,4)})}},{key:"toggleCheck",value:function(e){var t,a=e.target.name,l=this.state,n=l[a],r=l.values,i=[];i=n?r.filter((function(e){return e!==a})):[].concat(Object(p.a)(r),[a]),this.setState((t={},Object(m.a)(t,a,!this.state[a]),Object(m.a)(t,"values",i),t))}},{key:"render",value:function(){var e=this,t=this.state,a=t.blogArrayListLength,l=t.loadedListlength,r=t.blogArrayList,i=t.searchValue,s=t.values;return n.a.createElement(n.a.Fragment,null,n.a.createElement(y,{className:"title-main",title:"Blog",element:"h1"}),n.a.createElement("div",{className:"utility-seg"},n.a.createElement("div",{className:"search-utility"},n.a.createElement("span",null,"Search Blog: "),n.a.createElement(L,{searchValue:i,getfilteredList:function(t){e.getfilteredList(t)}})),n.a.createElement("div",{className:"sort-utility"},n.a.createElement("span",null,"Sort Blog By: "),n.a.createElement("label",null,n.a.createElement("span",null,"Author"),n.a.createElement("input",{type:"checkbox",name:"author",checked:this.state.author,onChange:function(t){e.toggleCheck(t)}})),n.a.createElement("label",null,n.a.createElement("span",null,"Category"),n.a.createElement("input",{type:"checkbox",name:"category",checked:this.state.category,onChange:function(t){e.toggleCheck(t)}})),n.a.createElement("label",null,n.a.createElement("span",null,"Published Date"),n.a.createElement("input",{type:"checkbox",name:"published_date",checked:this.state.published_date,onChange:function(t){e.toggleCheck(t)}})))),a&&n.a.createElement(k,{searchValue:i,values:s,view:"main",blogArrayList:r}),!i&&!s.length&&l!==a&&n.a.createElement("button",{className:"load-more",onClick:function(){e.loadMoreBlogs()}},"Load More Blogs"))}}]),t}(l.Component)),O=Object(h.f)(S),B=a(25),j=(a(40),function(e){function t(){var e,a;Object(s.a)(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={currentBlog:{},likedBlog:!1},a}return Object(g.a)(t,e),Object(o.a)(t,[{key:"likeBlog",value:function(e){var t=this.state.blogList,a=t.findIndex((function(t){return e.id===t.id}));this.state.likedBlog||"number"!==typeof a||(t[a]=Object(B.a)({},t[a],{},{likes:t[a].likes+1}),localStorage.setItem("blogArrayList",JSON.stringify(t)),this.setState({currentBlog:t[a],likedBlog:!0}))}},{key:"updateCurrentBlog",value:function(){if(localStorage.getItem("blogArrayList")){var e=this.props.history.location.state.index,t=JSON.parse(localStorage.getItem("blogArrayList")),a=t.find((function(t){return t.id===e}));this.setState({currentBlog:a,blogList:t,likedBlog:!1})}}},{key:"componentDidMount",value:function(){this.updateCurrentBlog()}},{key:"componentDidUpdate",value:function(e){this.props.location.state.index!==e.location.state.index&&this.updateCurrentBlog()}},{key:"renderBlog",value:function(){var e=this,t=this.state.currentBlog;return n.a.createElement(n.a.Fragment,null,n.a.createElement("img",{src:"".concat(t.imgs.large),alt:t.title}),n.a.createElement("div",{className:"blog-details-seg"},n.a.createElement("h1",null,t.title),n.a.createElement("div",{className:"author-seg"},n.a.createElement("img",{width:"auto",height:"auto",src:"https://cdn0.iconfinder.com/data/icons/app-user-interface-5/48/user-24.png",alt:"avatar-".concat(t.author)}),n.a.createElement("span",null,"By: ",n.a.createElement("i",null,t.author))),n.a.createElement("hr",null),n.a.createElement("h2",null,"About ",t.title),n.a.createElement("p",null,t.description),n.a.createElement("div",{className:"blog-likes-seg like-wrap"},n.a.createElement("i",null),n.a.createElement("span",null,t.likes," Likes"),n.a.createElement("button",{onClick:function(){e.likeBlog(t)}},"Like"))),n.a.createElement("div",{className:"ads-wrap"}))}},{key:"renderSimilarBlogs",value:function(){var e=this.state,t=e.blogList,a=e.currentBlog,l=t.filter((function(e){return e.category===a.category&&e.id!==a.id}));return n.a.createElement(k,{listType:"similar",blogArrayList:l,viewTitle:"Similar Blogs"})}},{key:"render",value:function(){var e=this.state.currentBlog;return n.a.createElement(n.a.Fragment,null,Object.keys(e).length&&n.a.createElement("div",{className:"blog-details-wrap"},this.renderBlog(),n.a.createElement("div",{className:"similar-blogs-list"},this.renderSimilarBlogs())))}}]),t}(l.Component)),A=Object(h.f)(j),w=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(o.a)(t,[{key:"clearData",value:function(){localStorage.removeItem("blogArrayList")}},{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.clearData)}},{key:"componentWillUnmount",value:function(){this.clearData(),window.removeEventListener("beforeunload",this.clearData)}},{key:"renderView",value:function(){return n.a.createElement(h.c,null,n.a.createElement(h.a,{exact:!0,path:"/",component:O}),n.a.createElement(h.a,{exact:!0,path:"/details/:title/:id",component:A}))}},{key:"render",value:function(){return n.a.createElement("div",{className:"app"},n.a.createElement(d.a,null,this.renderView()))}}]),t}(l.Component);i.a.render(n.a.createElement(w,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.69165cd3.chunk.js.map